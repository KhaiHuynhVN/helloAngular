<div class="wrapper">
   <h1>Welcome to Angular</h1>
   <p>This is the home page</p>

   <!-- Two-way binding: [(ngModel)] = [ngModel] + (ngModelChange) -->
   <div style="margin-bottom: 20px">
      <input [(ngModel)]="name" placeholder="Nhập tên..." style="padding: 8px; border-radius: 4px; border: 1px solid #ccc" />
      <p>Xin chào: {{ name }}</p>
   </div>

   <button
      [disabled]="isDisabled()"
      class="text-white px-5 py-2.5 rounded transition-all duration-200"
      [ngClass]="{ 'bg-red-500 cursor-not-allowed': isDisabled(), 'bg-blue-500 cursor-pointer hover:bg-blue-600': !isDisabled() }"
      (click)="resetDisabled()"
   >
      {{ isDisabled() ? "Disabled" : "Click me!" }}
   </button>

   <p>{{ ("Hello" | testPipe_1 : " " + isDisabled().valueOf().toString() : 10).value | upperCasePipe }}</p>

   <!-- Add Product Form -->
   <div class="mt-8 p-6 bg-white rounded-2xl shadow-md border border-slate-100">
      <h2 class="text-xl font-bold text-slate-800 mb-4">Add New Product</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
         <input
            [(ngModel)]="newProduct.name"
            placeholder="Product name"
            class="px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
         />
         <input
            [(ngModel)]="newProduct.category"
            placeholder="Category"
            class="px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
         />
         <input
            [(ngModel)]="newProduct.brand"
            placeholder="Brand"
            class="px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
         />
         <input
            [(ngModel)]="newProduct.price"
            type="number"
            placeholder="Price"
            class="px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
         />
         <input
            [(ngModel)]="newProduct.quantity"
            type="number"
            placeholder="Quantity"
            class="px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
         />
         <input
            [(ngModel)]="newProduct.description"
            placeholder="Description"
            class="px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
         />
      </div>
      <button
         (click)="handleAddProduct()"
         class="mt-4 px-6 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors"
      >
         Add Product
      </button>
   </div>

   <!-- Product Grid -->
   <div class="mt-8">
      <h2 class="text-2xl font-bold text-slate-800 mb-6">Products ({{ products().length }})</h2>
      <ul class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
         @for (item of products(); track item.id) {
         <li
            class="group/product-item-container bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border border-slate-100"
         >
            <!-- Image -->
            <div class="relative overflow-hidden">
               <a [routerLink]="[ROUTE_CONFIGS.PRODUCT_DETAIL.fullPath, item.id]" replaceUrl="true" class="block cursor-pointer">
                  <img
                     [src]="item.image"
                     [alt]="item.name"
                     class="w-full h-48 object-cover group-hover/product-item-container:scale-105 transition-transform duration-300"
                  />
               </a>
               <!-- Delete Button -->
               <button
                  (click)="handleDeleteProduct(item.id)"
                  class="absolute top-3 left-3 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 opacity-0 group-hover/product-item-container:opacity-100 transition-all duration-200"
               >
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                     <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                     />
                  </svg>
               </button>
               <!-- Status Badge -->
               <span
                  class="absolute top-3 right-3 px-3 py-1 text-xs font-semibold rounded-full"
                  [ngClass]="item.isActive ? 'bg-emerald-500 text-white' : 'bg-slate-400 text-white'"
               >
                  {{ item.isActive ? "Active" : "Inactive" }}
               </span>
            </div>

            <!-- Content -->
            <div class="p-5">
               <!-- Category & Brand -->
               <div class="flex items-center gap-2 mb-2">
                  <span class="px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs font-medium rounded">{{ item.category }}</span>
                  <span class="px-2 py-0.5 bg-amber-100 text-amber-700 text-xs font-medium rounded">{{ item.brand }}</span>
               </div>

               <!-- Name -->
               <h3
                  class="text-lg font-bold text-slate-800 mb-1 group-hover/product-item-container:text-indigo-600 transition-colors"
               >
                  {{ item.name }}
               </h3>

               <!-- Description -->
               <p class="text-sm text-slate-500 mb-3 line-clamp-2">{{ item.description }}</p>

               <!-- Price & Quantity -->
               <div class="flex items-center justify-between pt-3 border-t border-slate-100">
                  <span class="text-xl font-bold text-emerald-600">${{ item.price }}</span>
                  <span class="flex items-center gap-1 text-sm text-slate-500">
                     <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path
                           stroke-linecap="round"
                           stroke-linejoin="round"
                           stroke-width="2"
                           d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"
                        />
                     </svg>
                     {{ item.quantity }} in stock
                  </span>
               </div>
            </div>
         </li>
         } @empty {
         <li class="col-span-full text-center py-12 text-slate-400">
            <svg class="w-16 h-16 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
               <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.5"
                  d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"
               />
            </svg>
            <p class="text-lg font-medium">No items found</p>
         </li>
         }
      </ul>
   </div>
</div>
